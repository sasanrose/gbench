GBench
======
[![Build Status](https://travis-ci.org/sasanrose/gbench.svg?branch=master)](https://travis-ci.org/sasanrose/gbench) [![Coverage Status](https://coveralls.io/repos/github/sasanrose/gbench/badge.svg?branch=master)](https://coveralls.io/github/sasanrose/gbench?branch=master)

HTTP Load Testing And Benchmarking Tool inspired by Apache Benchmark and Siege.

## Requirements

You need [Golang](https://golang.org) installed and ready on your system.

## Installation

```bash
go install github.com/sasanrose/gbench
```

## Usage:
Gbench has two subcommands: exec and render. Exec is used to, as the name suggests, to execute the benchmark and will store the result in a json file (report.json in the current directy by default). And render will render the report to a more human readable format.

```bash
$ gbench -h
Usage:                                                                                                                                                                                       
  gbench [flags]
  gbench [command]

Available Commands:
  exec        Executes the benchmark
  help        Help about any command
  render      Render the report generated by exec command

Flags:
  -h, --help   help for gbench

Use "gbench [command] --help" for more information about a command.
```
```bash
$ gbench exec -h
Executes the benchmark using the given urls.                                                                                                                                                 
URL format should be as follow:

METHOD|URL|POSTDATA or METHOD|URL

Sample URLs: GET|www.google.com?search=test or POST|www.google.com|search=test or HEAD|www.google.com

Examples:

gbench exec -file ~/benchmarkurl.txt -r 100 -c 10 -v
gbench exec -url 'GET|www.google.com' -url 'GET|www.google.com/path2' -r 100 -c 10 -v

Usage:
  gbench exec [flags]

Flags:
      --auth-password string          Password for basic HTTP authentication.
      --auth-username string          Username for basic HTTP authentication.
  -c, --concurrent int                Number of concurrent requests. (default 1)
  -C, --connection-timeout duration   Connection timeout (0 means no timeout).
  -f, --file string                   Path to the file containing list of urls to benchmark.
  -F, --force                         Force overwrite for the report file.
  -H, --header strings                HTTP header in format of key=value. This can be used multiple times.
  -h, --help                          help for exec
  -o, --output string                 The path to store the report of benchmark. (default "./report.json")
      --proxy-url string              Proxy server url.
      --raw-cookie string             A string to be sent as raw cookie (In the format of Set-Cookie HTTP header).
  -r, --requests int                  Number of requests to send. (default 1)
  -R, --response-timeout duration     Response timeout (0 means no timeout).
  -s, --status-codes ints             Define what should be considered as a successful status code. (default [200,202,201])
  -u, --url strings                   Url to benchmark. This can be used multiple times.
  -v, --verbose                       Turn on verbosity mode.
```
```bash
Sample usage:                                                                                                                                                                                
gbench render (Will use all the default values)
gbench render -i ./path/to/report.json
gbench render -i ./path/to/report.json --driver html
gbench render -i ./path/to/report.json --driver html -a 0.0.0.0 -p 7777

Usage:
  gbench render [flags]

Flags:
  -a, --address string   Address to access the html report. (default "localhost")
  -d, --driver string    Driver to use for rendering the report. Accepted values are 'cli'and 'html'. (default "cli")
  -h, --help             help for render
  -i, --input string     Path to the report file. (default "./report.json")
  -p, --port string      Port to access the html report. (default "8080")
```
